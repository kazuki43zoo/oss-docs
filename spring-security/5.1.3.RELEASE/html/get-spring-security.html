<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>3.&nbsp;Getting Spring Security</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Security Reference"><link rel="up" href="preface.html" title="Part&nbsp;I.&nbsp;Preface"><link rel="prev" href="new.html" title="2.&nbsp;What&#8217;s New in Spring Security 5.1"><link rel="next" href="modules.html" title="4.&nbsp;Project Modules"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.&nbsp;Getting Spring Security</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="new.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;I.&nbsp;Preface</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="modules.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="get-spring-security" href="#get-spring-security"></a>3.&nbsp;Getting Spring Security</h2></div></div></div>

<p>This section discusses all you need to know about getting the Spring Security binaries.
Please refer to <a class="xref" href="community.html#community-source" title="1.3&nbsp;Source Code">Section&nbsp;1.3, &#8220;Source Code&#8221;</a> for how to obtain the source code.</p>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="release-numbering" href="#release-numbering"></a>3.1&nbsp;Release Numbering</h2></div></div></div>

<p>Spring Security versions are formatted as MAJOR.MINOR.PATCH such that</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
MAJOR versions may contain breaking changes.
Typically these are done to provide improved security to match modern security practices.
</li><li class="listitem">
MINOR versions contain enhancements, but are considered passive updates
</li><li class="listitem">
PATCH level should be perfectly compatible, forwards and backwards, with the possible exception of changes which are to fix bugs
</li></ul></div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="maven" href="#maven"></a>3.2&nbsp;Usage with Maven</h2></div></div></div>

<p>Like most open source projects, Spring Security deploys its dependencies as Maven artifacts.
The following sections provide details on how to consume Spring Security when using Maven.</p>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="spring-boot-with-maven" href="#spring-boot-with-maven"></a>3.2.1&nbsp;Spring Boot with Maven</h3></div></div></div>

<p>Spring Boot provides a spring-boot-starter-security starter which aggregates Spring Security related dependencies together.
The simplest and preferred method to leverage the starter is to use <a class="ulink" href="https://docs.spring.io/initializr/docs/current/reference/htmlsingle/" target="_top">Spring Initializr</a> using an IDE integration (<a class="ulink" href="http://joshlong.com/jl/blogPost/tech_tip_geting_started_with_spring_boot.html" target="_top">Eclipse</a>, <a class="ulink" href="https://www.jetbrains.com/help/idea/spring-boot.html#d1489567e2" target="_top">IntelliJ</a>, <a class="ulink" href="https://github.com/AlexFalappa/nb-springboot/wiki/Quick-Tour" target="_top">NetBeans</a>) or through <a class="ulink" href="https://start.spring.io" target="_top">https://start.spring.io</a>.</p>
<p>Alternatively, the starter can be added manually:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;dependencies&gt;</span>
    <span class="hl-comment">&lt;!-- ... other dependency elements ... --&gt;</span>
    <span class="hl-tag">&lt;dependency&gt;</span>
        <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.boot<span class="hl-tag">&lt;/groupId&gt;</span>
        <span class="hl-tag">&lt;artifactId&gt;</span>spring-boot-starter-security<span class="hl-tag">&lt;/artifactId&gt;</span>
    <span class="hl-tag">&lt;/dependency&gt;</span>
<span class="hl-tag">&lt;/dependencies&gt;</span></pre><p>

</p>
<p>Since Spring Boot provides a Maven BOM to manage dependency versions, there is no need to specify a version.
If you wish to override the Spring Security version, you may do so by providing a Maven property:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;properties&gt;</span>
    <span class="hl-comment">&lt;!-- ... --&gt;</span>
    <span class="hl-tag">&lt;spring-security.version&gt;</span>5.1.3.RELEASE<span class="hl-tag">&lt;/spring-security.version&gt;</span>
<span class="hl-tag">&lt;/dependencies&gt;</span></pre><p>

</p>
<p>Since Spring Security only makes breaking changes in major releases, it is safe to use a newer version of Spring Security with Spring Boot.
However, at times it may be necessary to update the version of Spring Framework as well.
This can easily be done by adding a Maven property as well:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;properties&gt;</span>
    <span class="hl-comment">&lt;!-- ... --&gt;</span>
    <span class="hl-tag">&lt;spring.version&gt;</span>5.1.4.RELEASE<span class="hl-tag">&lt;/spring.version&gt;</span>
<span class="hl-tag">&lt;/dependencies&gt;</span></pre><p>

</p>
<p>If you are using additional features like LDAP, OpenID, etc. you will need to also include the appropriate <a class="xref" href="modules.html" title="4.&nbsp;Project Modules">Chapter&nbsp;4, <i>Project Modules</i></a>.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="maven-without-spring-boot" href="#maven-without-spring-boot"></a>3.2.2&nbsp;Maven Without Spring Boot</h3></div></div></div>

<p>When using Spring Security without Spring Boot, the preferred way is to leverage Spring Security&#8217;s BOM to ensure a consistent version of Spring Security is used throughout the entire project.</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;dependencyManagement&gt;</span>
    <span class="hl-tag">&lt;dependencies&gt;</span>
        <span class="hl-comment">&lt;!-- ... other dependency elements ... --&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.security<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>spring-security-bom<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>5.1.3.RELEASE<span class="hl-tag">&lt;/version&gt;</span>
            <span class="hl-tag">&lt;type&gt;</span>pom<span class="hl-tag">&lt;/type&gt;</span>
            <span class="hl-tag">&lt;scope&gt;</span>import<span class="hl-tag">&lt;/scope&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
    <span class="hl-tag">&lt;/dependencies&gt;</span>
<span class="hl-tag">&lt;/dependencyManagement&gt;</span></pre><p>

</p>
<p>A minimal Spring Security Maven set of dependencies typically looks like the following:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;dependencies&gt;</span>
    <span class="hl-comment">&lt;!-- ... other dependency elements ... --&gt;</span>
    <span class="hl-tag">&lt;dependency&gt;</span>
        <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.security<span class="hl-tag">&lt;/groupId&gt;</span>
        <span class="hl-tag">&lt;artifactId&gt;</span>spring-security-web<span class="hl-tag">&lt;/artifactId&gt;</span>
    <span class="hl-tag">&lt;/dependency&gt;</span>
    <span class="hl-tag">&lt;dependency&gt;</span>
        <span class="hl-tag">&lt;groupId&gt;</span>org.springframework.security<span class="hl-tag">&lt;/groupId&gt;</span>
        <span class="hl-tag">&lt;artifactId&gt;</span>spring-security-config<span class="hl-tag">&lt;/artifactId&gt;</span>
    <span class="hl-tag">&lt;/dependency&gt;</span>
<span class="hl-tag">&lt;/dependencies&gt;</span></pre><p>

</p>
<p>If you are using additional features like LDAP, OpenID, etc. you will need to also include the appropriate <a class="xref" href="modules.html" title="4.&nbsp;Project Modules">Chapter&nbsp;4, <i>Project Modules</i></a>.</p>
<p>Spring Security builds against Spring Framework 5.1.4.RELEASE, but should generally work with any newer version of Spring Framework 5.x
The problem that many users will have is that Spring Security&#8217;s transitive dependencies resolve Spring Framework 5.1.4.RELEASE which can cause strange classpath problems.
The easiest way to resolve this is to use the <code class="literal">spring-framework-bom</code> within your <code class="literal">&lt;dependencyManagement&gt;</code> section of your <code class="literal">pom.xml</code> as shown below:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;dependencyManagement&gt;</span>
    <span class="hl-tag">&lt;dependencies&gt;</span>
        <span class="hl-comment">&lt;!-- ... other dependency elements ... --&gt;</span>
        <span class="hl-tag">&lt;dependency&gt;</span>
            <span class="hl-tag">&lt;groupId&gt;</span>org.springframework<span class="hl-tag">&lt;/groupId&gt;</span>
            <span class="hl-tag">&lt;artifactId&gt;</span>spring-framework-bom<span class="hl-tag">&lt;/artifactId&gt;</span>
            <span class="hl-tag">&lt;version&gt;</span>5.1.4.RELEASE<span class="hl-tag">&lt;/version&gt;</span>
            <span class="hl-tag">&lt;type&gt;</span>pom<span class="hl-tag">&lt;/type&gt;</span>
            <span class="hl-tag">&lt;scope&gt;</span>import<span class="hl-tag">&lt;/scope&gt;</span>
        <span class="hl-tag">&lt;/dependency&gt;</span>
    <span class="hl-tag">&lt;/dependencies&gt;</span>
<span class="hl-tag">&lt;/dependencyManagement&gt;</span></pre><p>

</p>
<p>This will ensure that all the transitive dependencies of Spring Security use the Spring 5.1.4.RELEASE modules.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
<p>This approach uses Maven&#8217;s "bill of materials" (BOM) concept and is only available in Maven 2.0.9+.
For additional details about how dependencies are resolved refer to <a class="ulink" href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html" target="_top">Maven&#8217;s Introduction to the Dependency Mechanism documentation</a>.</p>
</td></tr></table></div>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="maven-repositories" href="#maven-repositories"></a>3.2.3&nbsp;Maven Repositories</h3></div></div></div>

<p>All GA releases (i.e. versions ending in .RELEASE) are deployed to Maven Central, so no additional Maven repositories need to be declared in your pom.</p>
<p>If you are using a SNAPSHOT version, you will need to ensure you have the Spring Snapshot repository defined as shown below:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;repositories&gt;</span>
    <span class="hl-comment">&lt;!-- ... possibly other repository elements ... --&gt;</span>
    <span class="hl-tag">&lt;repository&gt;</span>
        <span class="hl-tag">&lt;id&gt;</span>spring-snapshot<span class="hl-tag">&lt;/id&gt;</span>
        <span class="hl-tag">&lt;name&gt;</span>Spring Snapshot Repository<span class="hl-tag">&lt;/name&gt;</span>
        <span class="hl-tag">&lt;url&gt;</span>https://repo.spring.io/snapshot<span class="hl-tag">&lt;/url&gt;</span>
    <span class="hl-tag">&lt;/repository&gt;</span>
<span class="hl-tag">&lt;/repositories&gt;</span></pre><p>

</p>
<p>If you are using a milestone or release candidate version, you will need to ensure you have the Spring Milestone repository defined as shown below:</p>
<p>
<b>pom.xml.&nbsp;</b>

</p><pre class="programlisting"><span class="hl-tag">&lt;repositories&gt;</span>
    <span class="hl-comment">&lt;!-- ... possibly other repository elements ... --&gt;</span>
    <span class="hl-tag">&lt;repository&gt;</span>
        <span class="hl-tag">&lt;id&gt;</span>spring-milestone<span class="hl-tag">&lt;/id&gt;</span>
        <span class="hl-tag">&lt;name&gt;</span>Spring Milestone Repository<span class="hl-tag">&lt;/name&gt;</span>
        <span class="hl-tag">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="hl-tag">&lt;/url&gt;</span>
    <span class="hl-tag">&lt;/repository&gt;</span>
<span class="hl-tag">&lt;/repositories&gt;</span></pre><p>

</p>
</div>
</div>
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gradle" href="#gradle"></a>3.3&nbsp;Gradle</h2></div></div></div>

<p>Like most open source projects, Spring Security deploys its dependencies as Maven artifacts which allows for for first class Gradle support.
The following sections provide details on how to consume Spring Security when using Gradle.</p>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="spring-boot-with-gradle" href="#spring-boot-with-gradle"></a>3.3.1&nbsp;Spring Boot with Gradle</h3></div></div></div>

<p>Spring Boot provides a spring-boot-starter-security starter which aggregates Spring Security related dependencies together.
The simplest and preferred method to leverage the starter is to use <a class="ulink" href="https://docs.spring.io/initializr/docs/current/reference/htmlsingle/" target="_top">Spring Initializr</a> using an IDE integration (<a class="ulink" href="http://joshlong.com/jl/blogPost/tech_tip_geting_started_with_spring_boot.html" target="_top">Eclipse</a>, <a class="ulink" href="https://www.jetbrains.com/help/idea/spring-boot.html#d1489567e2" target="_top">IntelliJ</a>, <a class="ulink" href="https://github.com/AlexFalappa/nb-springboot/wiki/Quick-Tour" target="_top">NetBeans</a>) or through <a class="ulink" href="https://start.spring.io" target="_top">https://start.spring.io</a>.</p>
<p>Alternatively, the starter can be added manually:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">dependencies {
    compile <span class="hl-string">"org.springframework.boot:spring-boot-starter-security"</span>
}</pre><p>

</p>
<p>Since Spring Boot provides a Maven BOM to manage dependency versions, there is no need to specify a version.
If you wish to override the Spring Security version, you may do so by providing a Gradle property:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">ext[<span class="hl-string">'spring-security.version'</span>]=<span class="hl-string">'5.1.3.RELEASE'</span></pre><p>

</p>
<p>Since Spring Security only makes breaking changes in major releases, it is safe to use a newer version of Spring Security with Spring Boot.
However, at times it may be necessary to update the version of Spring Framework as well.
This can easily be done by adding a Gradle property as well:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">ext[<span class="hl-string">'spring.version'</span>]=<span class="hl-string">'5.1.4.RELEASE'</span></pre><p>

</p>
<p>If you are using additional features like LDAP, OpenID, etc. you will need to also include the appropriate <a class="xref" href="modules.html" title="4.&nbsp;Project Modules">Chapter&nbsp;4, <i>Project Modules</i></a>.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gradle-without-spring-boot" href="#gradle-without-spring-boot"></a>3.3.2&nbsp;Gradle Without Spring Boot</h3></div></div></div>

<p>When using Spring Security without Spring Boot, the preferred way is to leverage Spring Security&#8217;s BOM to ensure a consistent version of Spring Security is used throughout the entire project.
This can be done by using the <a class="ulink" href="https://github.com/spring-gradle-plugins/dependency-management-plugin" target="_top">Dependency Management Plugin</a>.</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">plugins {
    id <span class="hl-string">"io.spring.dependency-management"</span> version <span class="hl-string">"1.0.6.RELEASE"</span>
}

dependencyManagement {
    imports {
        mavenBom <span class="hl-string">'org.springframework.security:spring-security-bom:5.1.3.RELEASE'</span>
    }
}</pre><p>

</p>
<p>A minimal Spring Security Maven set of dependencies typically looks like the following:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">dependencies {
    compile <span class="hl-string">"org.springframework.security:spring-security-web"</span>
    compile <span class="hl-string">"org.springframework.security:spring-security-config"</span>
}</pre><p>

</p>
<p>If you are using additional features like LDAP, OpenID, etc. you will need to also include the appropriate <a class="xref" href="modules.html" title="4.&nbsp;Project Modules">Chapter&nbsp;4, <i>Project Modules</i></a>.</p>
<p>Spring Security builds against Spring Framework 5.1.4.RELEASE, but should generally work with any newer version of Spring Framework 5.x
The problem that many users will have is that Spring Security&#8217;s transitive dependencies resolve Spring Framework 5.1.4.RELEASE which can cause strange classpath problems.
The easiest way to resolve this is to use the <code class="literal">spring-framework-bom</code> within your <code class="literal">&lt;dependencyManagement&gt;</code> section of your <code class="literal">pom.xml</code> as shown below:
This can be done by using the <a class="ulink" href="https://github.com/spring-gradle-plugins/dependency-management-plugin" target="_top">Dependency Management Plugin</a>.</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">plugins {
    id <span class="hl-string">"io.spring.dependency-management"</span> version <span class="hl-string">"1.0.6.RELEASE"</span>
}

dependencyManagement {
    imports {
        mavenBom <span class="hl-string">'org.springframework:spring-framework-bom:5.1.4.RELEASE'</span>
    }
}</pre><p>

</p>
<p>This will ensure that all the transitive dependencies of Spring Security use the Spring 5.1.4.RELEASE modules.</p>
</div>
<div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gradle-repositories" href="#gradle-repositories"></a>3.3.3&nbsp;Gradle Repositories</h3></div></div></div>

<p>All GA releases (i.e. versions ending in .RELEASE) are deployed to Maven Central, so using the mavenCentral() repository is sufficient for GA releases.</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">repositories {
    mavenCentral()
}</pre><p>

</p>
<p>If you are using a SNAPSHOT version, you will need to ensure you have the Spring Snapshot repository defined as shown below:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">repositories {
    maven { url <span class="hl-string">'https://repo.spring.io/snapshot'</span> }
}</pre><p>

</p>
<p>If you are using a milestone or release candidate version, you will need to ensure you have the Spring Milestone repository defined as shown below:</p>
<p>
<b>build.gradle.&nbsp;</b>

</p><pre class="programlisting">repositories {
    maven { url <span class="hl-string">'https://repo.spring.io/milestone'</span> }
}</pre><p>

</p>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="new.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="preface.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="modules.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;What&#8217;s New in Spring Security 5.1&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.&nbsp;Project Modules</td></tr></table></div></body></html>