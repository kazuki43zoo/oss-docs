
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Test Fixtures Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Categories.html" />
    
    
    <link rel="prev" href="Theories.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Download-and-Install.html">
            
                <a href="Download-and-Install.html">
            
                    
                    Download and Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Getting-Started.html">
            
                <a href="Getting-Started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Maintainer-Documentation.html">
            
                <a href="Maintainer-Documentation.html">
            
                    
                    Maintainer Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Deprecation-Policy.html">
            
                <a href="Deprecation-Policy.html">
            
                    
                    Deprecation Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="I-want-to-help!.html">
            
                <a href="I-want-to-help!.html">
            
                    
                    I want to help!
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">JUnit Usage and Idioms</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="Assertions.html">
            
                <a href="Assertions.html">
            
                    
                    Assertions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Test-Runners.html">
            
                <a href="Test-Runners.html">
            
                    
                    Test Runners
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Aggregating-tests-in-Suites.html">
            
                <a href="Aggregating-tests-in-Suites.html">
            
                    
                    Aggregating tests in Suites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Test-Execution-Order.html">
            
                <a href="Test-Execution-Order.html">
            
                    
                    Test Execution Order
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="Exception-Testing.html">
            
                <a href="Exception-Testing.html">
            
                    
                    Exception Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Matchers-and-assertThat.html">
            
                <a href="Matchers-and-assertThat.html">
            
                    
                    Matchers and assertThat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Ignoring-Tests.html">
            
                <a href="Ignoring-Tests.html">
            
                    
                    Ignoring Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Timeout-for-Tests.html">
            
                <a href="Timeout-for-Tests.html">
            
                    
                    Timeout for Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="Parameterized-Tests.html">
            
                <a href="Parameterized-Tests.html">
            
                    
                    Parameterized Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Assumptions-with-Assume.html">
            
                <a href="Assumptions-with-Assume.html">
            
                    
                    Assumptions with Assume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="Rules.html">
            
                <a href="Rules.html">
            
                    
                    Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="Theories.html">
            
                <a href="Theories.html">
            
                    
                    Theories
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.13" data-path="Test-Fixtures.html">
            
                <a href="Test-Fixtures.html">
            
                    
                    Test Fixtures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="Categories.html">
            
                <a href="Categories.html">
            
                    
                    Categories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="Use-with-Maven.html">
            
                <a href="Use-with-Maven.html">
            
                    
                    Use with Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="Use-with-Gradle.html">
            
                <a href="Use-with-Gradle.html">
            
                    
                    Use with Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="Multithreaded-code-and-Concurrency.html">
            
                <a href="Multithreaded-code-and-Concurrency.html">
            
                    
                    Multithreaded code and Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="Java-contract-test-helpers.html">
            
                <a href="Java-contract-test-helpers.html">
            
                    
                    Java contract test helpers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="Continuous-Testing.html">
            
                <a href="Continuous-Testing.html">
            
                    
                    Continuous Testing
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Third-party extensions</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="Custom-Runners.html">
            
                <a href="Custom-Runners.html">
            
                    
                    Custom Runners
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Test Fixtures</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>A test fixture is a fixed state of a set of objects used as a baseline for running tests. The purpose of a test fixture is to ensure that there is a well known and fixed environment in which tests are run so that results are repeatable. Examples of fixtures:</p>
<ul>
<li>Preparation of input data and setup/creation of fake or mock objects</li>
<li>Loading a database with a specific, known set of data</li>
<li>Copying a specific known set of files
creating a test fixture will create a set of objects initialized to certain states.</li>
</ul>
<p>JUnit provides annotations so that test classes can have fixture run before or after every test, or one time fixtures that run before and after only once for all test methods in a class.</p>
<p>There are four fixture annotations: two for class-level fixtures and two for method-level ones. At the
class level, you have <code>@BeforeClass</code> and <code>@AfterClass</code>, and at the method (or test) level, you have <code>@Before</code> and <code>@After</code>.</p>
<p>A deeper explanation of fixtures, and how they could also be implemented using <code>Rules</code> is discussed <a href="https://garygregory.wordpress.com/2011/09/25/understaning-junit-method-order-execution/" target="_blank">here</a>.</p>
<p>An example of usage:</p>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> test;

<span class="hljs-keyword">import</span> java.io.Closeable;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">import</span> org.junit.After;
<span class="hljs-keyword">import</span> org.junit.AfterClass;
<span class="hljs-keyword">import</span> org.junit.Before;
<span class="hljs-keyword">import</span> org.junit.BeforeClass;
<span class="hljs-keyword">import</span> org.junit.Test;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestFixturesExample</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExpensiveManagedResource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Closeable</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{}
  }

  <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ManagedResource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Closeable</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{}
  }

  <span class="hljs-meta">@BeforeClass</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUpClass</span><span class="hljs-params">()</span> </span>{
    System.out.println(<span class="hljs-string">&quot;@BeforeClass setUpClass&quot;</span>);
    myExpensiveManagedResource = <span class="hljs-keyword">new</span> ExpensiveManagedResource();
  }

  <span class="hljs-meta">@AfterClass</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDownClass</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{
    System.out.println(<span class="hljs-string">&quot;@AfterClass tearDownClass&quot;</span>);
    myExpensiveManagedResource.close();
    myExpensiveManagedResource = <span class="hljs-keyword">null</span>;
  }

  <span class="hljs-keyword">private</span> ManagedResource myManagedResource;
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ExpensiveManagedResource myExpensiveManagedResource;

  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">println</span><span class="hljs-params">(String string)</span> </span>{
    System.out.println(string);
  }

  <span class="hljs-meta">@Before</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.println(<span class="hljs-string">&quot;@Before setUp&quot;</span>);
    <span class="hljs-keyword">this</span>.myManagedResource = <span class="hljs-keyword">new</span> ManagedResource();
  }

  <span class="hljs-meta">@After</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDown</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{
    <span class="hljs-keyword">this</span>.println(<span class="hljs-string">&quot;@After tearDown&quot;</span>);
    <span class="hljs-keyword">this</span>.myManagedResource.close();
    <span class="hljs-keyword">this</span>.myManagedResource = <span class="hljs-keyword">null</span>;
  }

  <span class="hljs-meta">@Test</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.println(<span class="hljs-string">&quot;@Test test1()&quot;</span>);
  }

  <span class="hljs-meta">@Test</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.println(<span class="hljs-string">&quot;@Test test2()&quot;</span>);
  }
}
</code></pre>
<p>Will Output something like the following:</p>
<pre><code class="lang-text">@BeforeClass setUpClass
@Before setUp
@Test test2()
@After tearDown
@Before setUp
@Test test1()
@After tearDown
@AfterClass tearDownClass
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Theories.html" class="navigation navigation-prev " aria-label="Previous page: Theories">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Categories.html" class="navigation navigation-next " aria-label="Next page: Categories">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Test Fixtures","level":"2.13","depth":1,"next":{"title":"Categories","level":"2.14","depth":1,"path":"Categories.asciidoc","ref":"Categories.asciidoc","articles":[]},"previous":{"title":"Theories","level":"2.12","depth":1,"path":"Theories.md","ref":"Theories.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Test-Fixtures.md","mtime":"2018-07-25T18:16:39.450Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-07-25T19:06:52.738Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

