<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 26 7月 2018 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Hunter Presnall" />
    <meta name="author" content="Eduardo Macarron" />
    <meta name="author" content="Iwao AVE!" />
    <meta name="Date-Revision-yyyymmdd" content="20180726" />
    <meta http-equiv="Content-Language" content="ja" />
    <title>mybatis-spring &#x2013; MyBatis-Spring | Mapper をインジェクト（注入）する</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>mybatis-spring</h2>
</div>
</div>
        <div class="pull-right"><a href="../../" id="bannerRight" title="MyBatis logo"><img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">最終更新: 26 7月 2018<span class="divider">|</span>
</li>
          <li id="projectVersion">バージョン: 1.3.1</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Reference Documentation</li>
    <li><a href="index.html" title="イントロダクション"><span class="none"></span>イントロダクション</a>  </li>
    <li><a href="getting-started.html" title="スタートガイド"><span class="none"></span>スタートガイド</a>  </li>
    <li><a href="factorybean.html" title="SqlSessionFactoryBean"><span class="none"></span>SqlSessionFactoryBean</a>  </li>
    <li><a href="transactions.html" title="トランザクション"><span class="icon-chevron-right"></span>トランザクション</a>  </li>
    <li><a href="sqlsession.html" title="SqlSession の利用"><span class="icon-chevron-right"></span>SqlSession の利用</a>  </li>
    <li class="active"><a href="#"><span class="icon-chevron-down"></span>Mapper の注入</a>

      <ul class="nav nav-list">
    <li><a href="mappers.html#register" title="Mapper の登録"><span class="none"></span>Mapper の登録</a>  </li>
    <li><a href="mappers.html#scan" title="Mapper の自動検出"><span class="none"></span>Mapper の自動検出</a>  </li>
      </ul>
  </li>
    <li><a href="boot.html" title="Spring Boot"><span class="none"></span>Spring Boot</a>  </li>
    <li><a href="using-api.html" title="MyBatis API の使用"><span class="none"></span>MyBatis API の使用</a>  </li>
    <li><a href="batch.html" title="Spring Batch"><span class="none"></span>Spring Batch</a>  </li>
    <li><a href="sample.html" title="サンプルコード"><span class="none"></span>サンプルコード</a>  </li>
          <li class="nav-header">プロジェクト文書</li>
    <li><a href="project-info.html" title="プロジェクト情報"><span class="icon-chevron-right"></span>プロジェクト情報</a>  </li>
    <li><a href="project-reports.html" title="プロジェクトレポート"><span class="icon-chevron-right"></span>プロジェクトレポート</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >


  
    <div class="section">
<h2><a name="Mapper_"></a>Mapper &#x306e;&#x6ce8;&#x5165;</h2>
      
<p>
        MyBatis-Spring &#x304c;&#x30b9;&#x30ec;&#x30c3;&#x30c9;&#x30bb;&#x30fc;&#x30d5;&#x306a; Mapper &#x3092;&#x751f;&#x6210;&#x3057;&#x3066;&#x304f;&#x308c;&#x308b;&#x306e;&#x3067;&#x3001;<tt>SqlSessionDaoSupport</tt> &#x3084; <tt>SqlSessionTemplate</tt> &#x3092;&#x4f7f;&#x3063;&#x3066;&#x624b;&#x52d5;&#x3067; DAO &#x30aa;&#x30d6;&#x30b8;&#x30a7;&#x30af;&#x30c8;&#x3092;&#x751f;&#x6210;&#x3059;&#x308b;&#x30b3;&#x30fc;&#x30c9;&#x306f;&#x4e0d;&#x8981;&#x3068;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002;
        &#x751f;&#x6210;&#x3055;&#x308c;&#x305f; Mapper &#x306f;&#x4ed6;&#x306e; Bean &#x306b;&#x6ce8;&#x5165;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
      </p>

      
<div class="source"><pre class="prettyprint">&lt;bean id=&quot;fooService&quot; class=&quot;org.mybatis.spring.sample.mapper.FooServiceImpl&quot;&gt;
  &lt;property name=&quot;userMapper&quot; ref=&quot;userMapper&quot; /&gt;
&lt;/bean&gt;</pre></div>
 
      
<p>
        &#x30a2;&#x30d7;&#x30ea;&#x30b1;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x5074;&#x306e;&#x51e6;&#x7406;&#x3067;&#x306f;&#x3001;&#x6ce8;&#x5165;&#x3055;&#x308c;&#x305f; Mapper &#x306e;&#x30e1;&#x30bd;&#x30c3;&#x30c9;&#x3092;&#x547c;&#x3073;&#x51fa;&#x3059;&#x3060;&#x3051;&#x3067;&#x3059;&#x3002;
      </p>
        
<div class="source"><pre class="prettyprint">public class FooServiceImpl implements FooService {

  private UserMapper userMapper;

  public void setUserMapper(UserMapper userMapper) {
    this.userMapper = userMapper;
  }

  public User doSomeBusinessStuff(String userId) {
    return this.userMapper.getUser(userId);
  }
}</pre></div>
       
<p>
        &#x3053;&#x306e;&#x30b3;&#x30fc;&#x30c9;&#x306b;&#x306f; <tt>SqlSession</tt> &#x3084; MyBatis &#x3078;&#x306e;&#x53c2;&#x7167;&#x304c;&#x542b;&#x307e;&#x308c;&#x3066;&#x3044;&#x306a;&#x3044;&#x70b9;&#x306b;&#x6ce8;&#x76ee;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#x3002;
        &#x307e;&#x305f;&#x3001;&#x30bb;&#x30c3;&#x30b7;&#x30e7;&#x30f3;&#x306e;&#x751f;&#x6210;&#x3084;&#x30aa;&#x30fc;&#x30d7;&#x30f3;&#x3001;&#x30af;&#x30ed;&#x30fc;&#x30ba;&#x3082; MyBatis-Spring &#x304c;&#x51e6;&#x7406;&#x3057;&#x3066;&#x304f;&#x308c;&#x308b;&#x305f;&#x3081;&#x4e0d;&#x8981;&#x3068;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002;
       </p>

	<a name="register"></a>
<div class="section" id="register">
<h3><a name="Mapper_"></a>Mapper &#x306e;&#x767b;&#x9332;</h3>
	  
<p>
	    Mapper &#x3092; Bean &#x3068;&#x3057;&#x3066;&#x767b;&#x9332;&#x3059;&#x308b;&#x65b9;&#x6cd5;&#x306f;&#x3001;Spring &#x306e;&#x8a2d;&#x5b9a;&#x3092; XML &#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x3092;&#x4f7f;&#x3063;&#x3066;&#x884c;&#x3046;&#x5834;&#x5408;&#x3068; Spring 3.0 &#x4ee5;&#x964d;&#x3067;&#x5c0e;&#x5165;&#x3055;&#x308c;&#x305f; Java Config (= @Configuration) &#x3092;&#x4f7f;&#x3046;&#x5834;&#x5408;&#x3067;&#x7570;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002;</p>
	
      
<div class="section">
<h4><a name="XML_"></a>XML &#x3067;&#x8a2d;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;</h4>
      
      
<p>
        XML &#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x3092;&#x4f7f;&#x3063;&#x3066; Spring &#x3092;&#x8a2d;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;&#x3001;&#x6b21;&#x306e;&#x3088;&#x3046;&#x306b; <tt>MapperFactoryBean</tt> &#x306e;&#x30a8;&#x30f3;&#x30c8;&#x30ea;&#x30fc;&#x3092;&#x8ffd;&#x52a0;&#x3059;&#x308b;&#x3053;&#x3068;&#x3067; Mapper &#x3092; Spring Bean &#x3068;&#x3057;&#x3066;&#x767b;&#x9332;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
      </p>
        
<div class="source"><pre class="prettyprint">&lt;bean id=&quot;userMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;
  &lt;property name=&quot;mapperInterface&quot; value=&quot;org.mybatis.spring.sample.mapper.UserMapper&quot; /&gt;
  &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;
&lt;/bean&gt;</pre></div>

      
<p>
        &#x3053;&#x3053;&#x3067;&#x6307;&#x5b9a;&#x3057;&#x305f; UserMapper &#x306e;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x3068;&#x540c;&#x3058;&#x30af;&#x30e9;&#x30b9;&#x30d1;&#x30b9;&#x306b; MyBatis &#x306e; XML Mapper &#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x304c;&#x914d;&#x7f6e;&#x3055;&#x308c;&#x3066;&#x3044;&#x308b;&#x5834;&#x5408;&#x306f;&#x81ea;&#x52d5;&#x7684;&#x306b;&#x30ed;&#x30fc;&#x30c9;&#x3055;&#x308c;&#x307e;&#x3059;&#x3002;
        XML Mapper &#x304c;&#x7570;&#x306a;&#x308b;&#x30af;&#x30e9;&#x30b9;&#x30d1;&#x30b9;&#x306b;&#x914d;&#x7f6e;&#x3055;&#x308c;&#x3066;&#x3044;&#x308b;&#x5834;&#x5408;&#x3092;&#x9664;&#x3051;&#x3070;&#x3001;MyBatis &#x306e;&#x8a2d;&#x5b9a;&#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x3067;&#x3053;&#x306e; Mapper &#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5fc5;&#x8981;&#x306f;&#x3042;&#x308a;&#x307e;&#x305b;&#x3093;&#x3002;
        &#x8a73;&#x3057;&#x304f;&#x306f; <tt>SqlSessionFactoryBean</tt> &#x306e; <tt><a href="factorybean.html">configLocation</a></tt> &#x30d7;&#x30ed;&#x30d1;&#x30c6;&#x30a3;&#x306e;&#x8aac;&#x660e;&#x3092;&#x53c2;&#x7167;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#x3002;
      </p>

      
<p>
        <tt>MapperFactoryBean</tt> &#x3092;&#x767b;&#x9332;&#x3059;&#x308b;&#x969b;&#x306f; <tt>SqlSessionFactory</tt> &#x3042;&#x308b;&#x3044;&#x306f; <tt>SqlSessionTemplate</tt> &#x306e;&#x3069;&#x3061;&#x3089;&#x304b;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5fc5;&#x8981;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;
        &#x6307;&#x5b9a;&#x5bfe;&#x8c61;&#x306e;&#x30d7;&#x30ed;&#x30d1;&#x30c6;&#x30a3;&#x306f;&#x3001;&#x305d;&#x308c;&#x305e;&#x308c; <tt>sqlSessionFactory</tt> &#x3068; <tt>sqlSessionTemplate</tt> &#x3067;&#x3059;&#x3002;
        &#x4e21;&#x65b9;&#x304c;&#x6307;&#x5b9a;&#x3055;&#x308c;&#x305f;&#x5834;&#x5408;&#x3001; <tt>SqlSessionFactory</tt> &#x306e;&#x6307;&#x5b9a;&#x306f;&#x7121;&#x8996;&#x3055;&#x308c;&#x3001;<tt>SqlSessionTemplate</tt> &#x306e;&#x767b;&#x9332;&#x6642;&#x306b;&#x6307;&#x5b9a;&#x3057;&#x305f; Session Factory &#x304c;&#x4f7f;&#x308f;&#x308c;&#x307e;&#x3059;&#x3002;
      </p>
      
       </div>
<div class="section">
<h4><a name="Java_Config_"></a>Java Config &#x3067;&#x8a2d;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;</h4>
       
       
<p>
         Java Config &#x3092;&#x4f7f;&#x3063;&#x3066; Spring &#x3092;&#x8a2d;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;&#x306f;&#x3001;&#x6b21;&#x306e;&#x3088;&#x3046;&#x306b;&#x3057;&#x3066; <tt>SqlSessionTemplate</tt> &#x304b;&#x3089;&#x76f4;&#x63a5; Mapper &#x3092;&#x53d6;&#x5f97;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
       </p>
        

<div class="source"><pre class="prettyprint">    @Bean
    public SqlSessionFactory sqlSessionFactory() throws Exception {
      SqlSessionFactoryBean sqlSessionFactory = new SqlSessionFactoryBean();
      sqlSessionFactory.setDataSource(dataSource());
      return (SqlSessionFactory) sqlSessionFactory.getObject();
    }

    @Bean
    public UserMapper userMapper() throws Exception {
      SqlSessionTemplate sessionTemplate = new SqlSessionTemplate(sqlSessionFactory());
      return sessionTemplate.getMapper(UserMapper.class);
    }
</pre></div>

       
<p>
         &#x3053;&#x3053;&#x3067;&#x3001;MyBatis &#x306e;&#x30c7;&#x30d5;&#x30a9;&#x30eb;&#x30c8;&#x306e; <tt>SqlSession</tt> &#x304b;&#x3089;&#x53d6;&#x5f97;&#x3057;&#x305f; Mapper &#x3092;&#x8fd4;&#x3057;&#x3066;&#x306f;&#x3044;&#x3051;&#x307e;&#x305b;&#x3093;&#x3002;
         &#x306a;&#x305c;&#x306a;&#x3089;&#x3001;&#x3053;&#x306e; Mapper &#x306f;&#x30b9;&#x30ec;&#x30c3;&#x30c9;&#x30bb;&#x30fc;&#x30d5;&#x3067;&#x306f;&#x306a;&#x304f;&#x3001;&#x53d6;&#x5f97;&#x5143;&#x306e; <tt>SqlSession</tt> &#x304c;&#x30af;&#x30ed;&#x30fc;&#x30ba;&#x3055;&#x308c;&#x308b;&#x3068;&#x7834;&#x68c4;&#x3055;&#x308c;&#x3066;&#x3057;&#x307e;&#x3046;&#x304b;&#x3089;&#x3067;&#x3059;&#x3002;
         &#x4e0a;&#x8a18;&#x306e;&#x4f8b;&#x306e;&#x3088;&#x3046;&#x306b;&#x3001;&#x5fc5;&#x305a; <tt><a href="sqlsession.html#SqlSessionTemplate">SqlSessionTemplate</a></tt> &#x3092;&#x4f7f;&#x3063;&#x3066; Mapper &#x3092;&#x53d6;&#x5f97;&#x3059;&#x308b;&#x3088;&#x3046;&#x306b;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#x3002;
       </p>
    </div></div>

    <a name="scan"></a>
<div class="section" id="scan">
<h3><a name="Mapper_"></a>Mapper &#x306e;&#x81ea;&#x52d5;&#x691c;&#x51fa;</h3>
      
<p>
        &#x4e0a;&#x3067;&#x8aac;&#x660e;&#x3057;&#x305f;&#x65b9;&#x6cd5;&#x3067;&#x306f; Mapper &#x3092;&#x500b;&#x5225;&#x306b;&#x6307;&#x5b9a;&#x3057;&#x3066;&#x3044;&#x307e;&#x3057;&#x305f;&#x304c;&#x3001;MyBatis-Spring &#x3067;&#x306f;&#x7279;&#x5b9a;&#x306e;&#x30af;&#x30e9;&#x30b9;&#x30d1;&#x30b9;&#x306b;&#x542b;&#x307e;&#x308c;&#x308b; Mapper &#x3092;&#x81ea;&#x52d5;&#x691c;&#x51fa;&#x3055;&#x305b;&#x308b;&#x3053;&#x3068;&#x3082;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;     
      </p>
      
      
<p>
        &#x3053;&#x308c;&#x306b;&#x306f;&#xff13;&#x901a;&#x308a;&#x306e;&#x65b9;&#x6cd5;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;
      </p>
      
<ul>
        
<li><tt>&lt;mybatis:scan/&gt;</tt> &#x8981;&#x7d20;&#x3092;&#x4f7f;&#x3046;&#x3002;</li>
        
<li><tt>@MapperScan</tt> &#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x4f7f;&#x3046;&#x3002;</li>
        
<li>Spring &#x306e; XML &#x8a2d;&#x5b9a;&#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x306b; <tt>MapperScannerConfigurer</tt> &#x306e;&#x30a8;&#x30f3;&#x30c8;&#x30ea;&#x30fc;&#x3092;&#x8ffd;&#x52a0;&#x3059;&#x308b;&#x3002;</li>
      </ul>
      
      
<p><tt>&lt;mybatis:scan/&gt;</tt> &#x307e;&#x305f;&#x306f; <tt>@MapperScan</tt> &#x3092;&#x4f7f;&#x3046;&#x5834;&#x5408;&#x306f; MyBatis-Spring 1.2.0 &#x4ee5;&#x964d;&#x304c;&#x5fc5;&#x8981;&#x3067;&#x3059;&#x3002;&#x307e;&#x305f; <tt>@MapperScan</tt> &#x3092;&#x4f7f;&#x3046;&#x5834;&#x5408;&#x306f; Spring 3.1 &#x4ee5;&#x964d;&#x304c;&#x5fc5;&#x8981;&#x3068;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002;</p> 

      
<div class="section">
<h4><a name="amybatis:scan"></a>&lt;mybatis:scan/&gt;</h4>
      
      
<p>
        <tt>&lt;mybatis:scan/&gt;</tt> &#x306f;&#x3001;Spring &#x306e; <tt>&lt;context:component-scan/&gt;</tt> &#x304c; Bean &#x3092;&#x691c;&#x7d22;&#x3059;&#x308b;&#x306e;&#x3068;&#x826f;&#x304f;&#x4f3c;&#x305f;&#x65b9;&#x6cd5;&#x3067; Mapper &#x3092;&#x691c;&#x51fa;&#x3057;&#x307e;&#x3059;&#x3002;
      </p>
      
      
<p>XML &#x8a2d;&#x5b9a;&#x306e;&#x4f8b;&#xff1a;</p>

        
<div class="source"><pre class="prettyprint">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mybatis=&quot;http://mybatis.org/schema/mybatis-spring&quot;
  xsi:schemaLocation=&quot;
  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
  http://mybatis.org/schema/mybatis-spring http://mybatis.org/schema/mybatis-spring.xsd&quot;&gt;
 
  &lt;mybatis:scan base-package=&quot;org.mybatis.spring.sample.mapper&quot; /&gt;

&lt;/beans&gt;</pre></div>

      
<p>
        <tt>base-package</tt> &#x5c5e;&#x6027;&#x3067; Mapper &#x30d5;&#x30a1;&#x30a4;&#x30eb;&#x3092;&#x542b;&#x3080;&#x30d1;&#x30c3;&#x30b1;&#x30fc;&#x30b8;&#x3092;&#x6307;&#x5b9a;&#x3057;&#x307e;&#x3059;&#x3002;
        &#x30bb;&#x30df;&#x30b3;&#x30ed;&#x30f3;&#x307e;&#x305f;&#x306f;&#x30ab;&#x30f3;&#x30de;&#x533a;&#x5207;&#x308a;&#x3067;&#x8907;&#x6570;&#x306e;&#x30d1;&#x30c3;&#x30b1;&#x30fc;&#x30b8;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x3053;&#x3068;&#x3082;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
        &#x307e;&#x305f;&#x3001;&#x6307;&#x5b9a;&#x3055;&#x308c;&#x305f;&#x30d1;&#x30c3;&#x30b1;&#x30fc;&#x30b8;&#x304c;&#x5185;&#x5305;&#x3059;&#x308b;&#x30d1;&#x30c3;&#x30b1;&#x30fc;&#x30b8;&#x3082;&#x691c;&#x7d22;&#x5bfe;&#x8c61;&#x3068;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002;
      </p>

      
<p>
        &#x3053;&#x3053;&#x3067;&#x306f; <tt>&lt;mybatis:scan/&gt;</tt> &#x306b; <tt>SqlSessionFactory</tt> &#x3084; <tt>SqlSessionTemplate</tt> &#x3092;&#x6307;&#x5b9a;&#x3057;&#x3066;&#x3044;&#x307e;&#x305b;&#x3093;&#x304c;&#x3001;&#x3053;&#x306e;&#x5834;&#x5408;&#x306f; Autowired &#x53ef;&#x80fd;&#x306a; <tt>MapperFactoryBean</tt> &#x304c;&#x81ea;&#x52d5;&#x7684;&#x306b;&#x751f;&#x6210;&#x3055;&#x308c;&#x307e;&#x3059;&#x3002;
        &#x305f;&#x3060;&#x3057;&#x3001;&#x8907;&#x6570;&#x306e; <tt>DataSource</tt> &#x3092;&#x5229;&#x7528;&#x3059;&#x308b;&#x5834;&#x5408;&#x306f; Autowired &#x306b;&#x983c;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x306a;&#x3044;&#x306e;&#x3067;&#x3001; <tt>factory-ref</tt> &#x307e;&#x305f;&#x306f; <tt>template-ref</tt> &#x5c5e;&#x6027;&#x3092;&#x4f7f;&#x3063;&#x3066;&#x9069;&#x5207;&#x306a; Bean &#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5fc5;&#x8981;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;
      </p>

      
<p>
        <tt>&lt;mybatis:scan/&gt;</tt> &#x3092;&#x4f7f;&#x3046;&#x5834;&#x5408;&#x3001;&#x30de;&#x30fc;&#x30ab;&#x30fc;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x307e;&#x305f;&#x306f;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x6307;&#x5b9a;&#x3057;&#x3066; Mapper &#x3092;&#x30d5;&#x30a3;&#x30eb;&#x30bf;&#x30ea;&#x30f3;&#x30b0;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
        &#x691c;&#x51fa;&#x5bfe;&#x8c61;&#x306e;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x306b;&#x306f; <tt>annotation</tt> &#x5c5e;&#x6027;&#x3092;&#x4f7f;&#x3044;&#x307e;&#x3059;&#x3002;
        &#x691c;&#x51fa;&#x5bfe;&#x8c61;&#x306e; Mapper &#x304c;&#x5b9f;&#x88c5;&#x3059;&#x308b;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;&#x306f; <tt>marker-interface</tt> &#x5c5e;&#x6027;&#x3092;&#x4f7f;&#x3044;&#x307e;&#x3059;&#x3002;
        &#x4e21;&#x65b9;&#x306e;&#x5c5e;&#x6027;&#x304c;&#x6307;&#x5b9a;&#x3055;&#x308c;&#x305f;&#x5834;&#x5408;&#x3001;&#x3069;&#x3061;&#x3089;&#x304b;&#x306e;&#x6761;&#x4ef6;&#x3092;&#x6e80;&#x305f;&#x3059;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x304c; Mapper &#x3068;&#x3057;&#x3066;&#x767b;&#x9332;&#x3055;&#x308c;&#x307e;&#x3059;&#x3002;
        &#x30c7;&#x30d5;&#x30a9;&#x30eb;&#x30c8;&#x3067;&#x306f;&#x3069;&#x3061;&#x3089;&#x3082; null &#x3068;&#x306a;&#x3063;&#x3066;&#x304a;&#x308a;&#x3001;<tt>base-package</tt> &#x3067;&#x6307;&#x5b9a;&#x3057;&#x305f;&#x30d1;&#x30c3;&#x30b1;&#x30fc;&#x30b8;&#x306b;&#x542b;&#x307e;&#x308c;&#x308b;&#x3059;&#x3079;&#x3066;&#x306e;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x304c; Mapper &#x3068;&#x3057;&#x3066;&#x30ed;&#x30fc;&#x30c9;&#x3055;&#x308c;&#x307e;&#x3059;&#x3002;
      </p>

      
<p>
        &#x691c;&#x51fa;&#x3055;&#x308c;&#x305f; Mapper &#x306f;&#x3001;Spring &#x306e;&#x81ea;&#x52d5;&#x691c;&#x51fa;&#x30b3;&#x30f3;&#x30dd;&#x30fc;&#x30cd;&#x30f3;&#x30c8;&#x306b;&#x5bfe;&#x3059;&#x308b;&#x30c7;&#x30d5;&#x30a9;&#x30eb;&#x30c8;&#x547d;&#x540d;&#x898f;&#x5247;&#x306b;&#x3088;&#x3063;&#x3066; Bean &#x540d;&#x304c;&#x6c7a;&#x3081;&#x3089;&#x308c;&#x307e;&#x3059;&#xff08;Spring &#x30de;&#x30cb;&#x30e5;&#x30a2;&#x30eb;&#x306e; 3.14.4 &#x7bc0;&#x3092;&#x53c2;&#x7167;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#xff09;&#x3002;
        &#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x306b;&#x3088;&#x308b;&#x6307;&#x5b9a;&#x304c;&#x306a;&#x3044;&#x5834;&#x5408;&#x306f;&#x30af;&#x30e9;&#x30b9;&#x540d;&#x306e;&#x5148;&#x982d;&#x3092;&#x5c0f;&#x6587;&#x5b57;&#x306b;&#x3057;&#x305f;&#x6587;&#x5b57;&#x5217;&#x304c; Bean &#x540d;&#x3068;&#x306a;&#x308a;&#x307e;&#x3059;&#x304c;&#x3001;@Component &#x3042;&#x308b;&#x3044;&#x306f; JSR-330 &#x306e; @Named &#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x4f7f;&#x3063;&#x3066; Bean &#x540d;&#x3092;&#x660e;&#x793a;&#x7684;&#x306b;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x3053;&#x3068;&#x3082;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
        &#x5148;&#x306b;&#x8aac;&#x660e;&#x3057;&#x305f; <tt>annotation</tt> &#x5c5e;&#x6027;&#x3067; <tt>org.springframework.stereotype.Component</tt> &#x3084; <tt>javax.inject.Named</tt> &#xff08;Java 6 &#x4ee5;&#x964d;&#x3092;&#x5229;&#x7528;&#x3057;&#x3066;&#x3044;&#x308b;&#x5834;&#x5408;&#x306e;&#x307f;&#xff09;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308c;&#x3070;&#x3001;&#x691c;&#x51fa;&#x6642;&#x306e;&#x30de;&#x30fc;&#x30ab;&#x30fc;&#x3068; Bean &#x540d;&#x306e;&#x6307;&#x5b9a;&#x3092;&#xff11;&#x3064;&#x306e;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3067;&#x517c;&#x306d;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
        &#x540c;&#x3058;&#x76ee;&#x7684;&#x3067;&#x72ec;&#x81ea;&#x306b;&#x5b9a;&#x7fa9;&#x3057;&#x305f;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x4f7f;&#x3046;&#x3053;&#x3068;&#x3082;&#x3067;&#x304d;&#x307e;&#x3059;&#x304c;&#x3001;&#x3053;&#x306e;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x81ea;&#x4f53;&#x306b; @Component &#x304b; @Named &#x3092;&#x4ed8;&#x52a0;&#x3057;&#x3066;&#x304a;&#x304f;&#x5fc5;&#x8981;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;
      </p>

      
<p>
        <span class="label important">NOTE</span> Spring &#x6a19;&#x6e96;&#x306e; <tt>&lt;context:component-scan/&gt;</tt> &#x3092;&#x4f7f;&#x3063;&#x3066; Mapper &#x3092;&#x691c;&#x51fa;&#x3059;&#x308b;&#x3053;&#x3068;&#x306f;&#x3067;&#x304d;&#x307e;&#x305b;&#x3093;&#x3002;
        Mapper &#x306f;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x306a;&#x306e;&#x3067;&#x3001;&#x5404; Mapper &#x306b;&#x5bfe;&#x3059;&#x308b; <tt>MapperFactoryBean</tt> &#x306e;&#x751f;&#x6210;&#x65b9;&#x6cd5;&#x304c;&#x5206;&#x304b;&#x3063;&#x3066;&#x3044;&#x306a;&#x3044;&#x3068; Spring Bean &#x3068;&#x3057;&#x3066;&#x767b;&#x9332;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x306a;&#x3044;&#x306e;&#x3067;&#x3059;&#x3002;
      </p>

      </div>
<div class="section">
<h4><a name="aMapperScan"></a>@MapperScan</h4>
      
      
<p>
        Java Config &#x3092;&#x4f7f;&#x3063;&#x3066; Spring &#x3092;&#x8a2d;&#x5b9a;&#x3057;&#x3066;&#x3044;&#x308b;&#x306e;&#x306a;&#x3089;&#x3001;<tt>&lt;mybatis:scan/&gt;</tt> &#x3088;&#x308a;&#x3082; <tt>@MapperScan</tt> &#x3092;&#x4f7f;&#x3046;&#x65b9;&#x304c;&#x6c17;&#x306b;&#x5165;&#x308b;&#x3068;&#x601d;&#x3044;&#x307e;&#x3059;&#x3002;
      </p>
      
      
<p><tt>@MapperScan</tt> &#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x306f;&#x6b21;&#x306e;&#x3088;&#x3046;&#x306b;&#x4f7f;&#x7528;&#x3057;&#x307e;&#x3059;&#x3002;</p>
   
   
<div class="source"><pre class="prettyprint">@Configuration
@MapperScan(&quot;org.mybatis.spring.sample.mapper&quot;)
public class AppConfig {

  @Bean
  public DataSource dataSource() {
    return new EmbeddedDatabaseBuilder().addScript(&quot;schema.sql&quot;).build()
  }

  @Bean
  public SqlSessionFactory sqlSessionFactory() throws Exception {
    SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();
    sessionFactory.setDataSource(dataSource());
    return sessionFactory.getObject();
  }
}
</pre></div>
	
	  
<p>
    &#x3053;&#x306e;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x306f;&#x524d;&#x7ae0;&#x3067;&#x8aac;&#x660e;&#x3057;&#x305f; <tt>&lt;mybatis:scan/&gt;</tt> &#x3068;&#x5168;&#x304f;&#x540c;&#x3058;&#x8981;&#x9818;&#x3067; Mapper &#x306e;&#x691c;&#x51fa;&#x3092;&#x884c;&#x3044;&#x307e;&#x3059;&#x3002;
    &#x5f15;&#x6570; <tt>markerInterface</tt>, <tt>annotationClass</tt> &#x3092;&#x4f7f;&#x3048;&#x3070;&#x691c;&#x51fa;&#x5bfe;&#x8c61;&#x306e;&#x30de;&#x30fc;&#x30ab;&#x30fc;&#x30a4;&#x30f3;&#x30bf;&#x30fc;&#x30d5;&#x30a7;&#x30a4;&#x30b9;&#x3068;&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3;&#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x3053;&#x3068;&#x3082;&#x3067;&#x304d;&#x307e;&#x3059;&#x3057;&#x3001;<tt>sqlSessionFactory</tt>, <tt>sqlSessionTemplate</tt> &#x3067; <tt>SqlSessionFactory</tt> &#x3084; <tt>SqlSessionTemplate</tt> &#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
	  </p>
     
      </div>
<div class="section">
<h4><a name="MapperScannerConfigurer"></a>MapperScannerConfigurer</h4>
        
      
<p>
        <tt>MapperScannerConfigurer</tt> &#x306f; <tt>BeanDefinitionRegistryPostProcessor</tt> &#x3068;&#x3057;&#x3066;&#x5b9a;&#x7fa9;&#x3055;&#x308c;&#x3066;&#x3044;&#x308b;&#x306e;&#x3067;&#x3001;&#x5f93;&#x6765;&#x306e; XML &#x306b;&#x3088;&#x308b;&#x8a2d;&#x5b9a;&#x3067;&#x901a;&#x5e38;&#x306e; Bean &#x3068;&#x3057;&#x3066;&#x767b;&#x9332;&#x3059;&#x308b;&#x3053;&#x3068;&#x304c;&#x3067;&#x304d;&#x307e;&#x3059;&#x3002;
        <tt>MapperScannerConfigurer</tt> &#x306e;&#x767b;&#x9332;&#x306f;&#x6b21;&#x306e;&#x3088;&#x3046;&#x306b;&#x884c;&#x3044;&#x307e;&#x3059;&#x3002;
      </p>
        
<div class="source"><pre class="prettyprint">&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
  &lt;property name=&quot;basePackage&quot; value=&quot;org.mybatis.spring.sample.mapper&quot; /&gt;
&lt;/bean&gt;</pre></div>

      
<p>
        &#x7279;&#x5b9a;&#x306e; <tt>sqlSessionFactory</tt> &#x307e;&#x305f;&#x306f; <tt>sqlSessionTemplate</tt> &#x3092;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;&#x306f;&#x3001; Bean &#x3092;&#x53c2;&#x7167;&#x3067;&#x306f;&#x306a;&#x304f; <b>&#x540d;&#x524d;&#x3067;</b> &#x6307;&#x5b9a;&#x3059;&#x308b;&#x5fc5;&#x8981;&#x304c;&#x3042;&#x308b;&#x306e;&#x3067;&#x3001;<tt>ref</tt> &#x3067;&#x306f;&#x306a;&#x304f; <tt>value</tt> &#x3092;&#x4f7f;&#x3044;&#x307e;&#x3059;&#x3002;
      </p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot; /&gt;</pre></div>
    
      
<p>
        <span class="label important">NOTE</span> MyBatis-Spring 1.0.2 &#x307e;&#x3067;&#x306f;&#x6709;&#x52b9;&#x306a;&#x30d7;&#x30ed;&#x30d1;&#x30c6;&#x30a3;&#x306f; <tt>sqlSessionFactoryBean</tt> &#x3068; <tt>sqlSessionTemplateBean</tt> &#x306e;&#x307f;&#x3067;&#x3057;&#x305f;&#x304c;&#x3001; <tt>MapperScannerConfigurer</tt> &#x304c; <tt>PropertyPlaceholderConfigurer</tt> &#x3088;&#x308a;&#x3082;&#x5148;&#x306b;&#x8aad;&#x307f;&#x8fbc;&#x307e;&#x308c;&#x308b;&#x305f;&#x3081;&#x30a8;&#x30e9;&#x30fc;&#x306e;&#x539f;&#x56e0;&#x3068;&#x306a;&#x3063;&#x3066;&#x3044;&#x307e;&#x3057;&#x305f;&#x3002;
        &#x3053;&#x306e;&#x554f;&#x984c;&#x3092;&#x56de;&#x907f;&#x3059;&#x308b;&#x305f;&#x3081;&#x3001;&#x3053;&#x308c;&#x3089;&#x306e;&#x30d7;&#x30ed;&#x30d1;&#x30c6;&#x30a3;&#x306e;&#x4f7f;&#x7528;&#x306f;&#x975e;&#x63a8;&#x5968;&#x3068;&#x306a;&#x308a;&#x3001;&#x65b0;&#x305f;&#x306b;&#x8ffd;&#x52a0;&#x3055;&#x308c;&#x305f; <tt>sqlSessionFactoryBeanName</tt> &#x3068; <tt>sqlSessionTemplateBeanName</tt> &#x3092;&#x4f7f;&#x3046;&#x3053;&#x3068;&#x304c;&#x63a8;&#x5968;&#x3055;&#x308c;&#x3066;&#x3044;&#x307e;&#x3059;&#x3002;
      </p>
      </div></div>
    </div>
  

        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2010&#x2013;2018
<a href="http://www.mybatis.org/">MyBatis.org</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
